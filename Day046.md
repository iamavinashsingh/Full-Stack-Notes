# Lecture 13: Introduction to DOM — Revision Notes

## 💡 The Core Idea

**Question:** *"You have HTML and JavaScript. How do they talk to each other?"*

* **HTML:** Structure / Blueprint
* **JavaScript:** Logic / Construction Crew
* **DOM:** The bridge — connects HTML and JS

**Analogy:**

* HTML → Blueprint 🏠
* JS → Workers 👷‍♂️
* DOM → The actual house they modify 🏡

---

## 🧱 What is the DOM?

**Definition:** DOM (Document Object Model) is a **tree-like structure** of your HTML that JavaScript can understand and manipulate.

**Example:**

```
document
└── html
    ├── head
    │   └── title → "My Site"
    └── body
        ├── h1 → "Welcome"
        └── p → "Hello there!"
```

**Key Concepts:**

1. Everything is a **Node**:

   * Element Nodes → `<div>`, `<p>`
   * Text Nodes → text inside elements
   * Document Node → root (`document`)

2. HTML elements become **JavaScript objects** with properties & methods.

3. Hierarchy:

```
Window
└── document
    └── documentElement (<html>)
        ├── head
        └── body
```

---

## 🎯 Selecting Elements

### 1️⃣ Old (Classic) Methods

| Method                            | Description              | Returns             |
| --------------------------------- | ------------------------ | ------------------- |
| `getElementById('id')`            | Select one element by ID | Element             |
| `getElementsByTagName('tag')`     | Select all by tag        | Live HTMLCollection |
| `getElementsByClassName('class')` | Select all by class      | Live HTMLCollection |

> *Live* means it auto-updates when new matching elements are added.

### 2️⃣ Modern (Query) Methods

| Method                         | Description             | Returns         |
| ------------------------------ | ----------------------- | --------------- |
| `querySelector('selector')`    | First match (CSS style) | Single Element  |
| `querySelectorAll('selector')` | All matches (CSS style) | Static NodeList |

> *Static* means it doesn't auto-update — more predictable & modern.

### 3️⃣ Others

* `getElementsByName('name')` → Used for forms.

### 🌳 DOM Traversal

```js
const list = document.getElementById('item-list');
list.parentElement; // parent node
list.children; // all <li>
list.firstElementChild; // first li
list.lastElementChild; // last li
specialLi.nextElementSibling; // next li
```

---

## 🧩 Manipulating Content

### 1. `.textContent` — Safe & Recommended ✅

* Reads/writes text only (ignores HTML)
* **No HTML parsing → Safe from XSS**

```js
para.textContent = "Click <a href='#'>here</a>"; // shows as text
```

### 2. `.innerHTML` — Powerful but Dangerous ⚠️

* Reads/writes HTML markup
* **Risky with user input (XSS)**

```js
desc.innerHTML = "<strong>Bold</strong> text";
```

### 3. `.innerText` — Style-Aware 👀

* Reflects visible text (ignores hidden)
* **Slower**, CSS-dependent

| Property       | Reads HTML | CSS Aware | Speed  | Safe? |
| -------------- | ---------- | --------- | ------ | ----- |
| `.textContent` | ❌          | ❌         | Fast   | ✅     |
| `.innerHTML`   | ✅          | ❌         | Medium | ❌     |
| `.innerText`   | ❌          | ✅         | Slow   | ✅     |

---

## 🧠 Manipulating Attributes

### 1. `.id` & `.className`

```js
card.id = 'new-id';
card.className = 'dark-mode'; // overwrites existing classes
```

### 2. `.classList` — Modern Way 💪

```js
card.classList.add('active');
card.classList.remove('featured');
card.classList.toggle('selected');
card.classList.contains('active'); // true/false
```

### 3. `.getAttribute()` / `.setAttribute()`

```js
card.setAttribute('data-id', '123');
const id = card.getAttribute('data-id');
card.removeAttribute('class');
```

---

## 🎨 Manipulating Styles

* Use `.style` for **inline** styles only.
* Property names → **camelCase**

```js
title.style.backgroundColor = 'yellow';
title.style.fontSize = '20px';
```

> To get CSS file styles → `window.getComputedStyle(element)`

**Best Practice:** Use `.classList` for styling (cleaner separation of logic and style).

---

## 🧾 Summary Table

| Goal                  | Best Method                                           | Why                  |
| --------------------- | ----------------------------------------------------- | -------------------- |
| Single unique element | `getElementById()`                                    | Fastest              |
| First match           | `querySelector()`                                     | Flexible & modern    |
| All matches           | `querySelectorAll()`                                  | Predictable (static) |
| Live updates          | `getElementsByTagName()` / `getElementsByClassName()` | Auto-updates         |
| Change text safely    | `.textContent`                                        | Secure & fast        |
| Add HTML              | `.innerHTML`                                          | Powerful but risky   |
| Manage classes        | `.classList`                                          | Easiest & cleanest   |
| Inline style          | `.style.property`                                     | Quick tweaks only    |

---

**Key Takeaway:** ✨

> *"The DOM is your bridge between HTML and JavaScript — learn to walk it confidently."* 🌉
---
# Lecture 14: DOM Manipulation — Revision Notes

## ⚙️ Three Main Categories

1. **Editing What's Inside** → `.textContent`, `.innerHTML`
2. **Editing the Tag Itself** → Attributes, Classes, Styles
3. **Editing the Page Structure** → Create, Add, Remove elements

---

## 🧩 Part 1: Editing Content Inside an Element

### `.textContent` — Safe & Default ✅

* Handles **plain text only** (no HTML).
* Prevents **XSS** attacks (scripts won't execute).

```js
welcomeBox.textContent = "Welcome back, Alice!";
```

### `.innerHTML` — For HTML Markup ⚠️

* Can render real HTML.
* Use **only** with **trusted content**.

```js
welcomeBox.innerHTML = `<h2>Welcome</h2><p>5 new messages</p>`;
```

> ❗ Never use with user-provided input.

---

## 🧱 Part 2: Editing the Element’s Tag

### A. Attributes (Direct Properties)

```js
profileImage.src = 'alice.png';
profileImage.alt = 'Alice photo';
profileContainer.id = 'user-123-avatar';
```

### B. Classes — `.classList` (Best Practice)

```js
el.classList.add('active');
el.classList.remove('card');
el.classList.toggle('selected');
```

> Keeps logic (JS) & styling (CSS) separate 💅

### C. Inline Styles — `.style`

```js
el.style.borderRadius = '50%';
el.style.width = '150px';
```

> Use only for **dynamic changes**. Prefer `.classList` for static ones.

---

## 🧠 Part 3: Editing the Page Structure

### 🪄 Create Element

```js
const p = document.createElement('p');
p.textContent = 'New paragraph!';
```

### 🧩 Add Elements

| Goal           | Modern             | Classic                           |
| -------------- | ------------------ | --------------------------------- |
| Last child     | parent.append(el)  | parent.appendChild(el)            |
| First child    | parent.prepend(el) | insertBefore(el, firstChild)      |
| Before another | ref.before(el)     | insertBefore(el, ref)             |
| After another  | ref.after(el)      | insertBefore(el, ref.nextSibling) |

```js
refEl.after(newEl); // Modern & clean ✨
```

### ❌ Remove Elements

```js
profileImage.remove();
```

---

## ⚡ Performance Optimization — `DocumentFragment`

**Problem:** Repeated DOM updates = slow reflows & repaints 😩

**Solution:** Use a `DocumentFragment` as a temporary, invisible workspace.

```js
const list = document.getElementById('my-list');
const fragment = document.createDocumentFragment();
for (let i = 0; i < 1000; i++) {
  const li = document.createElement('li');
  li.textContent = `Item ${i+1}`;
  fragment.appendChild(li);
}
list.appendChild(fragment); // One reflow! ⚡
```

**Why it’s magic:** Appending a fragment moves its children (not the fragment) → super efficient.

---

## 🧾 Summary Table

| Action                | Method                    | Notes                   |
| --------------------- | ------------------------- | ----------------------- |
| Edit text             | `.textContent`            | Safe & fast             |
| Insert HTML           | `.innerHTML`              | Powerful but risky      |
| Add/remove class      | `.classList`              | Clean & modern          |
| Inline styling        | `.style.property`         | For dynamic styles only |
| Add new element       | `.append()` / `.before()` | Modern & simple         |
| Remove element        | `.remove()`               | Easiest way             |
| Optimize many updates | `DocumentFragment`        | Minimizes reflow        |

---

✨ **Key Takeaway:**

> *Manipulating the DOM is like sculpting — be careful, efficient, and clean.* 🎨
---


# Lecture 15: Event Listeners & Handlers — Revision Notes

## 🔔 First Thought Principle — *The Doorbell Analogy*

* **Button = Doorbell (Trigger)**
* **Event = Ding-Dong Signal (Action Happened)**
* **Event Listener = Person Listening Inside (Waits for Event)**
* **Event Handler = Person’s Reaction (What Happens Next)**

> Without events, a webpage is a silent house. With events, it’s a responsive home 🏡✨

---

## ⚙️ The Three Core Components

| Concept      | Description           | Example                |
| ------------ | --------------------- | ---------------------- |
| 🎯 Target    | Element to watch      | `<button>`             |
| ⚡ Event Type | What action to detect | `'click'`, `'keydown'` |
| 🧠 Handler   | Function to execute   | `onButtonClick()`      |

---

## 🚀 Modern Way — `addEventListener()`

```js
const btn = document.getElementById('action-button');
btn.addEventListener('click', onButtonClick);

function onButtonClick() {
  console.log('Button clicked!');
}
```

> ⚠️ Pass function **reference**, not a call → ✅ `onButtonClick`, ❌ `onButtonClick()`

---

## 🖱️ Common Event Types

### 🖱️ Mouse Events

`click`, `dblclick`, `mousedown`, `mouseup`, `mouseenter`, `mouseleave`, `mousemove`

### ⌨️ Keyboard Events

`keydown`, `keyup`, *(avoid)* `keypress`

```js
document.addEventListener('keydown', (e) => {
  console.log(e.key, e.code);
});
```

### 🧾 Form Events

`focus`, `blur`, `input`, `change`, `submit`

```js
form.addEventListener('submit', (e) => {
  e.preventDefault(); // stop reload
  console.log('Form submitted!');
});
```

### 🌍 Window Events

`load`, `DOMContentLoaded`, `resize`, `scroll`

---

## 📦 The `event` Object

Every handler gets an event object automatically.

| Property                 | Meaning                      |
| ------------------------ | ---------------------------- |
| `event.target`           | Actual element clicked       |
| `event.currentTarget`    | Element listener attached to |
| `event.preventDefault()` | Stops default browser action |

```js
list.addEventListener('click', (e) => {
  console.log('Clicked on:', e.target.textContent);
});
```

> 🧠 Used in *event delegation* — one listener for many child elements.

---

## 🧩 Event Delegation Example

```html
<ul id="item-list">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
</ul>
```

```js
document.getElementById('item-list').addEventListener('click', (e) => {
  console.log('Clicked:', e.target.textContent);
});
```

✅ Efficient for dynamic elements

---

## 🚫 Removing Event Listeners

You must use the **same function reference**.

```js
function move() {}
window.addEventListener('mousemove', move);
window.removeEventListener('mousemove', move); // ✅ works
```

❌ Anonymous functions can’t be removed.

---

## 🌊 Event Phases: Capturing & Bubbling

**HTML:**

```html
<div id="grandparent">GRANDPARENT
  <div id="parent">PARENT
    <button id="child">CHILD</button>
  </div>
</div>
```

### 1️⃣ Capturing Phase (Top → Down)

Event travels from `window` → `document` → `html` → ... → target.

### 2️⃣ Target Phase

Event reaches the clicked element.

### 3️⃣ Bubbling Phase (Bottom → Up)

Event bubbles back up to ancestors.

**Code:**

```js
grandparent.addEventListener('click', (e) => {
  console.log('currentTarget:', e.currentTarget.id);
  console.log('target:', e.target.id);
});
```

**Result (Click on child):**

```
--- Event triggered ---
event.currentTarget: grandparent
event.target: child
```

> 🌐 This behavior enables **event delegation** — powerful & efficient.

---

## 🧾 Summary Table

| Concept          | Method / Property        | Notes                            |
| ---------------- | ------------------------ | -------------------------------- |
| Add listener     | `addEventListener()`     | Modern & flexible                |
| Remove listener  | `removeEventListener()`  | Must use same function           |
| Prevent default  | `event.preventDefault()` | Stop form or link behavior       |
| Source element   | `event.target`           | Actual trigger                   |
| Listener element | `event.currentTarget`    | Where handler is attached        |
| Delegation       | Listen on parent         | Handles all children efficiently |

---

✨ **Key Takeaway:**

> *Events make the web come alive — learn to listen carefully and respond smartly.* 🎧💻

---
